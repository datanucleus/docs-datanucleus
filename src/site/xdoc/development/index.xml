<?xml version="1.0" encoding="iso-8859-1"?>
<document xmlns="http://maven.apache.org/XDOC/2.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
    <properties>
        <title>Development</title>
    </properties>

    <body>
        <section name="DataNucleus Development">
            <p>
                DataNucleus is open source, released under the Apache 2 license. As a result you are welcome
                to develop it further. We require assistance on many areas of the project should you be interested. 
                A few selected areas where work is needed are
            </p>
            <ul>
                <li>Development of JPA/JDO features</li>
                <li>Support for improved persistence to existing datastores (e.g Excel, LDAP, XML)</li>
                <li>Support for persistence to new datastores (e.g Cassandra, Redis)</li>
                <li>Development of DataNucleus tooling (Eclipse plugin, Maven plugin etc)</li>
                <li>Performance improvements</li>
                <li>Documenting the DataNucleus system</li>
            </ul>
            <p>
                If you are interested, please go to the <a href="http://forum.datanucleus.org/">DataNucleus Forum</a> 
                and raise a thread in the <b>Volunteers</b> forum. Please make sure that <b>you have time to spend on 
                DataNucleus development</b> before volunteering as this would only waste our time otherwise; we're not 
                interested if you only have a week or so and then disappear off onto something else.
                There are many interesting parts of the system to work on so this is your chance to get aboard the 
                project; and demonstrating to an employer an involvement in an open source project can be beneficial
                to your career.
            </p>
            <p>
                DataNucleus uses Test Driven Development (TDD). It has 
                <a href="test/unittests.html">many test suites available</a> and all should be run to 
                provide stability in the codebase.
            </p>
            <p>
                When you have DataNucleus commit rights (see 
                <a href="http://www.datanucleus.org/servlet/forum/viewthread_thread,75" target="_blank">Forum</a>),
                the development process should be as below. Please abide by these simple rules
            </p>
            <ol>
                <li>Identify <a href="http://issues.datanucleus.org">an issue</a> to work on. Raise a JIRA if it 
                    doesn't yet exist, and allocate to yourself</li>
                <li>Develop code, unit tests (as appropriate), and documentation for the issue. 
                    DataNucleus is developed using JDK1.6+.</li>
                <li>Run all DataNucleus unit tests and JDO2 TCK, and when all pass to the same level as before then
                    you can check your code into SVN</li>
                <li><b>Broken unit tests or JDO TCK tests MUST BE FIXED ASAP</b>. Others are using SVN trunk too
                    and if you break either the build or the tests then it means they often cannot work effectively.
                    <b>Breakage of unit tests or JDO TCK tests mean that your changes can be rolled back</b></li>
                <li>Issues that involve many changes should be split, where appropriate, into smaller steps
                    so that you can still pass point 3 above with each check in</li>
                <li>Where changes are significant and you cannot split them into smaller check-ins (that pass
                    the tests) should be checked in to your own SVN branch and when complete they should be 
                    merged into main SVN. If help is needed at this point then other developers should help in 
                    merging large changes</li>
                <li>All check-ins should have a prefix in the description like <i>[NUCCORE-23]</i> for the issue being
                    worked on. Then they will be indexed by JIRA and so we can track changes.</li>
                <li>Mark the JIRA issue as "Resolved" for the next release.</li>
            </ol>

            <a name="licensing"/>
            <subsection name="Licensing">
                <p>
                    All contributions to the DataNucleus Project must adhere to the Apache 2 license. 
                    Notwithstanding the above, at the discretion of the PMC, DataNucleus Project downloads may 
                    include separately licensed code from third parties as a convenience and where permitted by 
                    the third party license, provided this is clearly indicated.
                </p>
                <p>
                    All contributions must contain the following copyright notice.
                </p>
<source>
/**********************************************************************
Copyright (c) 2006 {your name} and others. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

Contributors:
{year} {contributor1} - {description of contribution}
{year} {contributor2} - {description of contribution}
    ...
**********************************************************************/
</source>
                <p>
                The original contributor is the one who contributes the first version of the file. 
                A contributor may be a person or an organization - whoever owns the copyright. If the 
                contributor is an organization, the person may also be indicated. For each additional 
                contributor, indicate the part of the code or contribution that came from the contributor, 
                especially if it contains an interesting algorithm or data table etc. For clarity, also 
                indicate the contributor in the actual section of contributed code. Also reference the bug 
                ID if applicable. The basic principle is to clearly identify the contribution... especially 
                if it is a separable block of code.
                </p>
            </subsection>

            <a name="versioning"/>
            <subsection name="Versioning">
                <p>
                    There are many different versioning systems in use by software. All typically use
                    <i>major.minor.revision</i> (occasionally with finer grain below that). Some use suffix <i>alpha</i>
                    or <i>beta</i> to reflect how close the software is to full release. Some use versioning
                    starting at say 1.0.0, and going up from that until some release e.g 1.0.4 that is considered
                    the full release. <b>DataNucleus uses the following versioning policy</b>
                </p>
                <ul>
                    <li>When we start a release lifecycle for a product it starts at 1.0 Milestone 1 (1.0.0.M1)</li>
                    <li>Subsequent releases increment the milestone ... 1.0.0.M2, 1.0.0.M3 etc</li>
                    <li>When we feel we are close to a full release we can optionally have 1.0 Release Candidate 1 (1.0.0.RC1)</li>
                    <li>We have as many release candidates as necessary to get everything feature complete</li>
                    <li>The full release is 1.0.0(.Release)</li>
                    <li>Any subsequent releases in that lifecycle increment the revision number, so 1.0.1, 1.0.2 etc</li>
                </ul>
                <p>
                    The use of "Milestone" rather than "alpha" or "beta" is because all DataNucleus releases
                    are run against all unit tests and TCKs and so stability is typically inherent.
                </p>
                <p>
                    We increment the <i>minor</i> version number when we are changing internal APIs (but not
                    client facing APIs).
                    We increment the <i>major</i> version number when we are changing external (client-facing) APIs.
                </p>
            </subsection>

            <a name="codingstandards"/>
            <subsection name="Coding Standards">
                <p>
                Coding standards are more complicated to define so please look <a href="coding_standards.html">here</a>
                for details.
                </p>
            </subsection>

            <a name="mailinglists"/>
            <subsection name="Mailing Lists">
                <p>
                    DataNucleus has the following mailing lists to aid in tracking development. They are read-only.
                </p>
                <ul>
                    <li><a href="https://lists.sourceforge.net/lists/listinfo/datanucleus-commits">datanucleus-commits</a>
                        showing all SVN commits for the project</li>
                    <li><a href="https://lists.sourceforge.net/lists/listinfo/datanucleus-issues">datanucleus-issues</a>
                        showing all changes in JIRA issues for the project</li>
                    <li><a href="https://lists.sourceforge.net/lists/listinfo/datanucleus-nightlybuilds">datanucleus-nightlybuilds</a>
                        showing the result of nightly builds (one mail per day)</li>
                </ul>
            </subsection>

            <a name="productrelease"/>
            <subsection name="Product Release Process">
                <p>
                    When there is a DataNucleus product to be released (e.g AccessPlatform), the following is 
                    the release process
                </p>
                <ul>
                    <li>Make sure that all required plugin versions are released. See the
                        <a href="plugin_release.html">plugin release process</a> for details.</li>
                    <li>Go to the product that needs releasing and checkout the latest code.
                        Make a note of the revision number</li>
                    <li>Update <i>build.properties</i> so that versions of all required plugins
                        are set, and the version of the product is set.
                        You can check this change in</li>
                    <li>Generate the required product archives, and the documentation.</li>
                    <li>Release the archives and documentation on SourceForge</li>
                    <li>Create a directory under ${DATANUCLEUS}/releases/{product_name}/{version}/
                        and put a file in there called <i>revision</i> containing the revision number noted</li>
                </ul>
            </subsection>

            <a name="pluginrelease"/>
            <subsection name="Plugin Release Process">
                <p>
                    When there is a DataNucleus plugin to be released, the following is the release process
                </p>
                <ul>
                    <li>Go to the sub-project that needs releasing and checkout the latest code.
                        Make a note of the revision number</li>
                    <li>Update <i>pom.xml</i> and <i>META-INF/MANIFEST.MF</i>
                        so that the version(s) are set (of the plugin and any dependencies).
                        You can check these changes in</li>
                    <li>Build and test the code</li>
                    <li>Build, install and deploy the plugin (to Nightlabs), using
                        <source>mvn clean source:jar install assembly:assembly deploy:deploy -DdescriptorId=src</source></li>
                    <li>Create a directory under ${DATANUCLEUS}/releases/{plugin_name}/{version}/
                        and put a file in there called <i>revision</i> containing the revision number noted</li>
                </ul>
            </subsection>

            <subsection name="Metrics">
               <p> 
                   DataNucleus originated as JPOX in 2003 and consequently many people have contributed to its 
                   development over the years, and has been open source since the outset. In terms of metrics of 
                   the codebase we recommend use of Ohloh, providing number of lines of code, estimated cost etc
                   to replicate it.<br/>
<a href="http://www.ohloh.net/projects/datanucleus">Ohloh - <script type="text/javascript" src="http://www.ohloh.net/projects/13308/widgets/project_partner_badge"/></a>
                </p>
            </subsection>
        </section>

    </body>
</document>