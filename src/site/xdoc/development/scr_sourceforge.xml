<?xml version="1.0" encoding="iso-8859-1"?>
<document xmlns="http://maven.apache.org/XDOC/2.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
    <properties>
        <title>Source Code Repository</title>
    </properties>

    <body>
        <section name="DataNucleus Source Code Repository">
            <p>
                DataNucleus uses <a href="http://subversion.tigris.org/">Subversion (SVN)</a> for housing source code for all versions
                up to and including 3.3.5. The DataNucleus SVN repository is hosted by <a href="http://www.sf.net/projects/datanucleus/">SourceForge</a>.
                Note that all versions after 3.3.5 have source code hosted on <a href="scr.html">GitHub</a>.
                You can check out from the SourceForge SVN repository using
            </p>
<source>
Read-Only :
svn checkout svn://svn.code.sf.net/p/datanucleus/code/ datanucleus-code

Read-Write (committers) :
svn checkout --username={your-sf-login} svn+ssh://{your-sf-login}@svn.code.sf.net/p/datanucleus/code/ datanucleus-code
</source>
            <p>
                <b>Please note that this will check out ALL code and ALL branches!</b> What would be better is
                to check out "trunk" of all plugins that you are interested in (see below). 
                For example the following will just check out "core" and "api.jpa" plugins.
            </p>
<source>
svn checkout svn://svn.code.sf.net/p/datanucleus/code/platform/core/trunk datanucleus-core
svn checkout svn://svn.code.sf.net/p/datanucleus/code/platform/api.jpa/trunk datanucleus-api-jpa
</source>
            <p>
                The SVN repository is also
                <a href="https://sourceforge.net/p/datanucleus/code/HEAD/tree/">browsable online</a>.
                At the top level you will find
            </p>
            <pre><![CDATA[
platform/       <- Products and plugins
test/           <- End-to-end testing
tools/          <- Add on tools (Maven, Eclipse etc)
documentation/  <- Docs
samples/        <- Samples, tutorials etc
]]></pre>

            <img src="../images/github.png" alt="GitHub" border="0"/>
            <br/>

            <subsection name="Platform">
                <p>
                    The "platform" directory contains all source code for the plugins comprising
                    the different DataNucleus products. They are laid out as follows.
                    Please note that not all plugins are included here, this is simply to give an idea of 
                    the layout.
                </p>
                <pre><![CDATA[
platform/
    core/                      <- "Core" plugin, the basis for all datastore access
        trunk/
        branches/
    api.jdo/                   <- JDO API plugin
        trunk/
        branches/
    api.jpa/                   <- JPA API plugin
        trunk/
        branches/
    api.rest/                  <- REST API plugin
        trunk/
        branches/
    store.neo4j/               <- Neo4j datastore plugin
        trunk/
        branches/
    store.excel/               <- Excel datastore plugin
        trunk/
        branches/
    store.odf/                 <- ODF datastore plugin
        trunk/
        branches/
    store.json/                <- JSON datastore plugin
        trunk/
        branches/
    store.ldap/                <- LDAP datastore plugin
        trunk/
        branches/
    store.neodatis/            <- NeoDatis ODB datastore plugin
        trunk/
        branches/
    store.xml/                 <- XML datastore plugin
        trunk/
        branches/
    store.rdbms/               <- RDBMS datastore plugin
        trunk/
        branches/
    store.types.spatial/       <- Spatial types plugin
        trunk/
        branches/
    cache/                     <- Level 2 caching plugin
        trunk/
        branches/
    jdo.connector/             <- JCA adaptor for JDO
        trunk/
        branches/
    accessplatform/            <- AccessPlatform "product" bundle process
        trunk/
        branches/
    local.repository/          <- Repository (in Maven1 layout) with all dependencies (for use when developing under Eclipse)
        trunk/
            ]]></pre>
                <p>
                    All plugins are independently versioned (trunk is the latest, and branches are stored under
                    the branches directory). This is because they have their own lifecycle, and plugins are
                    bundled together into the "products" (AccessPlatform, AnalysisPlatform). So we could have
                    AccessPlatform using version X of a plugin, and AnalysisPlatform developing version Y of
                    that plugin because it needs some new functionality.
                </p>
                <br/>
            </subsection>
            <subsection name="Tests">
                <p>
                    The End-to-End test section is laid out as follows
                </p>
            <pre><![CDATA[
test/
    accessplatform/
        trunk/
            test.jdo.general/
            test.jdo.application/
            test.jdo.datastore/
            test.jpa.general/
            ...
        branches/
    analysisplatform/
        trunk/
        branches/
            ]]></pre>
                <p>
                    So we have separated tests for "AccessPlatform" from "AnalysisPlatform"
                    and we branch <i>all</i> tests for each product.
                </p>
                <br/>
            </subsection>
            <subsection name="Tools">
                <p>
                    The tools section contains anything that aids third party software operate with DataNucleus.
                    It is laid out like this
                </p>
                <pre><![CDATA[
tools/
    ide.eclipse/
        trunk/
        branches/
    maven2/
        trunk/
        branches/]]></pre>
                <p>
                    Like with all plugins, the tools are independently versioned since they have their
                    own lifecycle.
                </p>
                <br/>
            </subsection>
            <subsection name="Documentation">
                <p>
                    Finally the documentation area in Subversion is as follows
                </p>
                <pre><![CDATA[
documentation/
    datanucleus.org/
        trunk/
        branches/
    accessplatform/
        trunk/
        branches/
                ]]></pre>
                <p>
                    So we have a main website ("datanucleus.org"), and a website for each product.
                </p>
                <br/>
            </subsection>
        </section>
    </body>
</document>
