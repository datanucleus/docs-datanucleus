<?xml version="1.0" encoding="iso-8859-1"?>
<document xmlns="http://maven.apache.org/XDOC/2.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/XDOC/2.0 http://maven.apache.org/xsd/xdoc-2.0.xsd">
    <properties>
        <title>Problem Reporting</title>
    </properties>

    <body>
        <section name="Problem Reporting">
            <p>
                While we always aim to release DataNucleus with as few bugs as possible, it is possible that 
                during the release cycle some issues will come up. Our release process uses more than 1500 
                unit tests aimed at reproducing the majority of situations that users may come across, though
                clearly we can never cover all situations with these tests. We also run the JDO3/JPA1 TCKs
                before each release to provide extra checks to reduce the chance of regressions. The process 
                for reporting issues is defined below :-
            </p>
            <ol>
                <li>Check your input classes, MetaData and persistence code against the JDO/JPA spec and the 
                    DataNucleus documentation. The majority of situations are errors in input relative to what 
                    DataNucleus allows.</li>
                <li>Search the <a href="http://forum.datanucleus.org">DataNucleus Forum</a> for a similar 
                    situation to see if someone else has had the same issue and maybe resolved it.</li>
                <li>Try the 
                    <a href="http://www.datanucleus.org/downloads/maven2-nightly/org/datanucleus">latest Nightly Build</a>. 
                    Things are usually fixed soon after being reported so the issue may no longer be an issue 
                    (if there are no jars present in the nightly repo then nothing has changed since the previous release).</li>
                <li>Search <a href="http://issues.datanucleus.org">DataNucleus JIRA</a> for an issue describing 
                    your situation. If there is one then you can always check the status of the issue and post 
                    against it in JIRA.</li>
                <li>Start a thread on the <a href="http://forum.datanucleus.org">DataNucleus Forum</a>.</li>
                <li>If there is nothing obvious incorrect in your situation and it happens in a released 
                    version of DataNucleus then you can raise an issue in 
                    <a href="http://issues.datanucleus.org">DataNucleus JIRA</a>. 
                    You should then create a testcase and attach it to the JIRA issue (using "Attach File" 
                    on the issue) - see below.
                    <b>Bugs can only be raised against <u>released versions</u> of DataNucleus.</b> If you 
                    encounter a bug that only appears in SVN trunk then you should either report it against 
                    a JIRA issue related to that item in the current work-in-progress release, or otherwise 
                    report it to developers. This is since something can hardly be a bug if it hasn't been 
                    released yet.
                    <b>Please don't take the attitude that this testcase requirement somehow doesn't apply to
                    you. It is there to demonstrate a problem, so others can see it. Obviously any such
                    problem is not present in all of our tests so yours is different, we aren't psychic
                    so require a testcase.</b>
                </li>
            </ol>
            <p>
                <b>This guide can also be used for providing testcases that demonstrate the need for new 
                    features.</b>
            </p>
            <p>
                A test case is needed to be able to reproduce possible issues. We require something that 
                we can simply take and run ourselves. For this reason we have defined a standard for
                simplified testcases, for <a href="#jdo">JDO</a>, and for <a href="#jpa">JPA</a> as well as
                building on our existing testcases in <a href="#github">GitHub</a>. 
                Please write your testcases using these templates.
            </p>

            <a name="jdo"/>
            <subsection name="JDO Testcase : GitHub JUnit test, cloned from DataNucleus project">
                <table width="100%" border="0" cellpadding="2" cellspacing="2">
                    <tr>
                        <td style="vertical-align: middle; width: 83px;" bgcolor="#FFFFFF" align="center">
                            <img src="../images/GitHub-Mark-64px.png" alt="GitHub" border="0"/>
                        </td>
                        <td style="vertical-align: middle; width: 100%;" bgcolor="#FFFFFF">
                            DataNucleus provides a template JUnit GitHub project at
                            <a href="https://github.com/datanucleus/test-jdo">datanucleus/test-jdo</a>.
                            Please fork this and mention the location of your fork on the JIRA issue that it relates
                            to. Note that there are two JUnit tests in the provided project, one for single-threaded
                            and one for multi-threaded issues; use the one appropriate to your case.
                        </td>
                    </tr>
                </table>
            </subsection>

            <a name="jpa"/>
            <subsection name="JPA Testcase : GitHub JUnit test, cloned from DataNucleus project">
                <table width="100%" border="0" cellpadding="2" cellspacing="2">
                    <tr>
                        <td style="vertical-align: middle; width: 83px;" bgcolor="#FFFFFF" align="center">
                            <img src="../images/GitHub-Mark-64px.png" alt="GitHub" border="0"/>
                        </td>
                        <td style="vertical-align: middle; width: 100%;" bgcolor="#FFFFFF">
                            DataNucleus provides a template JUnit GitHub project at
                            <a href="https://github.com/datanucleus/test-jpa">datanucleus/test-jpa</a>.
                            Please fork this and mention the location of your fork on the JIRA issue that it relates
                            to. Note that there are two JUnit tests in the provided project, one for single-threaded
                            and one for multi-threaded issues; use the one appropriate to your case.
                        </td>
                    </tr>
                </table>
            </subsection>

            <a name="github"/>
            <subsection name="JDO/JPA : JUnit test built on DataNucleus test suite">
                <p>
                    As an alternative to the above, and where you are familiar with JUnit and are willing to look at the 
                    <a href="http://www.datanucleus.org/development/test/unittests.html">existing DataNucleus unit tests in SVN</a>
                    then please create a JUnit test case that utilises our existing suite of sample data etc.
                    If you provide a testcase in this way your testcase should be a patch against current SVN trunk
                    of the respective test suite project and it should be attached to the JIRA issue to which it relates. 
                    To add a JUnit testcase, please follow the 
                    <a href="../development/test/unittests.html#new_unit_test">new unit test guide</a>
                </p>
            </subsection>
        </section>
    </body>
</document>
