[[releasenotes_5_1]]
= DataNucleus AccessPlatform 5.1 Release Notes
:_basedir: ../../
:_imagesdir: images/

The 5.1 release of AccessPlatform is available under the link:../license.html[Apache 2 license] from our link:../../download.html[download page] 


_Version 5.1_ includes the following over 5.0

* Updated bytecode enhancement for easier StateManager access
* Support for findByUnique
* Support for version "initial-value" specification.
* Support for soft-delete of persistent objects.
* Support for views with identity
* Support for Audit @CreateUser/@UpdateUser
* Support for CDI injectable AttributeConverters and Entity Listeners.
* Add support for Redis L2/QueryResults cache
* Drop support for Swarmcache L2 cache
* Drop support for Apache DBCP v1 connection pool


== Future Plans

* __5.1.10 June 2018?__



== DataNucleus AccessPlatform 5.1.9

__Apr 28th 2018__ : _Version 5.1.9_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/288[datanucleus-core-288] - Upgrade ASM to v6.1.1
* https://github.com/datanucleus/datanucleus-core/issues/289[datanucleus-core-289] - Build against JTA API v1.3, Validation API v2.0
* https://github.com/datanucleus/datanucleus-geospatial/issues/7[datanucleus-geospatial-7] - Only load such as Oracle JGeometry if present in CLASSPATH
* https://github.com/datanucleus/datanucleus-rdbms/issues/270[datanucleus-rdbms-270] - Some RDBMS JDBC drivers return "BASE TABLE" instead of "TABLE" for table type.
* https://github.com/datanucleus/datanucleus-rdbms/issues/271[datanucleus-rdbms-271] - Refresh of table info from database currently refreshes ALL known tables, but should do the one(s) requested only
* https://github.com/datanucleus/datanucleus-rdbms/issues/272[datanucleus-rdbms-272] - Remove JTA, DBCP from build deps since not required
* https://github.com/datanucleus/datanucleus-mongodb/issues/45[datanucleus-mongodb-45] - Support for ordering using unknown/invalid fields


=== Bugs

* https://github.com/datanucleus/datanucleus-api-jdo/issues/68[datanucleus-api-jdo-68] - No point creating CDI injected AttributeConverter during enhancement

- - -


== DataNucleus AccessPlatform 5.1.8

__Apr 4th 2018__ : _Version 5.1.8_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/284[datanucleus-core-284] - Support L2 caching of embedded/serialised collection/array fields
* https://github.com/datanucleus/datanucleus-core/issues/286[datanucleus-core-286] - Support L2 caching of embedded/serialised map fields
* https://github.com/datanucleus/datanucleus-api-jdo/issues/67[datanucleus-api-jdo-67] - Change XML metadata location handling to default to not allow JDO 1.0.0 and just use standard
* https://github.com/datanucleus/datanucleus-rdbms/issues/257[datanucleus-rdbms-257] - Persisting array/Collection as native SQL array type, should allow column info specified on member
* https://github.com/datanucleus/datanucleus-rdbms/issues/258[datanucleus-rdbms-258] - Retrieval of array persisted into single column using native array type can require type conversion
* https://github.com/datanucleus/datanucleus-rdbms/issues/260[datanucleus-rdbms-260] - H2 supports String trim of a character, so we should allow that in queries also
* https://github.com/datanucleus/datanucleus-rdbms/issues/261[datanucleus-rdbms-261] - HSQLDB supports String trim of a character, so we should allow that in queries also
* https://github.com/datanucleus/datanucleus-rdbms/issues/263[datanucleus-rdbms-263] - Rename IndexMapping to OrderIndexMapping to better describe its usage
* https://github.com/datanucleus/datanucleus-rdbms/issues/265[datanucleus-rdbms-265] - Allow use of @CreateTimestamp/@UpdateTimestamp when non-transactional
* https://github.com/datanucleus/datanucleus-rdbms/issues/269[datanucleus-rdbms-269] - Allow disabling of SQL syntax checks for native queries


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/283[datanucleus-core-283] - When L2 caching embedded object, explicitly set the "id" to null
* https://github.com/datanucleus/datanucleus-core/issues/285[datanucleus-core-285] - Update of an embedded element does not mark the owner as dirty but should
* https://github.com/datanucleus/datanucleus-rdbms/issues/262[datanucleus-rdbms-262] - Loading of null Collection<String> (ordered list) for JPA tries to set it up as a List but may be a Set
* https://github.com/datanucleus/datanucleus-rdbms/issues/267[datanucleus-rdbms-267] - Exception thrown on dynamic schema updates if class has no attributes
* https://github.com/datanucleus/datanucleus-scala/issues/5[datanucleus-scala-5] - Option[Date] do not work as expected on JDOQL

- - -


== DataNucleus AccessPlatform 5.1.7

__Mar 5th 2018__ : _Version 5.1.7_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/278[datanucleus-core-278] - Support enable/disable on javax.validation annotation shortcuts
* https://github.com/datanucleus/datanucleus-core/issues/279[datanucleus-core-279] - MetaDataParser assumes SAXParser instance can be shared between threads
* https://github.com/datanucleus/datanucleus-core/issues/281[datanucleus-core-281] - Ensure that JPQL FROM clauses are bound in generic compilation
* https://github.com/datanucleus/datanucleus-core/issues/282[datanucleus-core-282] - Implementation of JPQL parsing of KEY, VALUE, ENTRY doesn't cater for having properties starting with those keywords
* https://github.com/datanucleus/datanucleus-api-jpa/issues/100[datanucleus-api-jpa-100] - Support XML metadata "map-key-convert"
* https://github.com/datanucleus/datanucleus-neo4j/issues/40[datanucleus-neo4j-40] - Support for String startsWith/endsWith/matches in queries
* https://github.com/datanucleus/datanucleus-rdbms/issues/248[datanucleus-rdbms-248] - Support more complete specification of CREATE INDEX statement
* https://github.com/datanucleus/datanucleus-rdbms/issues/249[datanucleus-rdbms-249] - Support more complete specification of CREATE UNIQUE statement
* https://github.com/datanucleus/datanucleus-rdbms/issues/250[datanucleus-rdbms-250] - Support other scenarios with JPQL "IN" where we have (non-Collection) parameters at either/both sides


=== Bugs

* https://github.com/datanucleus/datanucleus-rdbms/issues/251[datanucleus-rdbms-251] - When processing update, only ignore field marked as "not for update" when not in where clause
* https://github.com/datanucleus/datanucleus-rdbms/issues/252[datanucleus-rdbms-252] - JPQL : Use of CASE expression using parameters in UPDATE statement can result in compilation errors
* https://github.com/datanucleus/datanucleus-rdbms/issues/253[datanucleus-rdbms-253] - Bulk update/delete queries do not use the "precompilable" flag, but should

- - -


== DataNucleus AccessPlatform 5.1.6

__Jan 29th 2018__ : _Version 5.1.6_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/273[datanucleus-core-273] - ClassUtils.getConstructorWithArguments doesn't allow to skip type check of one of the arguments
* https://github.com/datanucleus/datanucleus-neo4j/issues/36[datanucleus-neo4j-36] - Support for queries with "IS NULL" / "IS NOT NULL"
* https://github.com/datanucleus/datanucleus-neo4j/issues/38[datanucleus-neo4j-38] - Support String toUpperCase/toLowerCase/trim/trimLeft/trimRight/substring in JDOQL/JPQL
* https://github.com/datanucleus/datanucleus-neo4j/issues/39[datanucleus-neo4j-39] - Support Numeric cos/sin/tan/acos/asin/atan/toDegrees/toRadians in JDOQL/JPQL
* https://github.com/datanucleus/datanucleus-rdbms/issues/244[datanucleus-rdbms-244] - JPQL compilation can fail if a parameter is not yet set, and using a null would be invalid
* https://github.com/datanucleus/datanucleus-jdo-query/issues/8[datanucleus-jdo-query-8] - Rework fix to #5 to avoid conflict with other types


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/274[datanucleus-core-274] - Unable to execute an UPDATE JPQL Query against a domain class that contains 'Set' in its name
* https://github.com/datanucleus/datanucleus-core/issues/275[datanucleus-core-275] - Lists might appear empty while they are actually not (forEach)
* https://github.com/datanucleus/datanucleus-neo4j/issues/32[datanucleus-neo4j-32] - Retrieval code doesnt handle primitive retrieval when not existing in database
* https://github.com/datanucleus/datanucleus-neo4j/issues/35[datanucleus-neo4j-35] - Ineqeulity Filter method, .ne() gives QueryExecutionException. 
* https://github.com/datanucleus/datanucleus-rdbms/issues/242[datanucleus-rdbms-242] - Query with candidate being base of inheritance tree using "complete-table" strategy fails when overriding the "id" column name
* https://github.com/datanucleus/datanucleus-rdbms/issues/243[datanucleus-rdbms-243] - JDOQL query fails when using reference to interface field, and implementations share table
* https://github.com/datanucleus/datanucleus-jpa-query/issues/4[datanucleus-jpa-query-4] - @Basic @Lob ArrayList<byte[]> entity field results in erroneous metamodel
* https://github.com/datanucleus/datanucleus-jpa-query/issues/5[datanucleus-jpa-query-5] - @Basic @Lob Serializable entity field results in erroneous metamodel


- - -

== DataNucleus AccessPlatform 5.1.5

__Dec 22nd 2017__ : _Version 5.1.5_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/272[datanucleus-core-272] - EnhancementHelper keeps references to classes after deploy/undeploy cycle
* https://github.com/datanucleus/datanucleus-rdbms/issues/238[datanucleus-rdbms-238] - MySQL identifier quoting according to (MySQL) documentation
* https://github.com/datanucleus/datanucleus-rdbms/issues/240[datanucleus-rdbms-240] - Allow user to omit datanucleus.connectionDriverName


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/269[datanucleus-core-269] - Metadata#determineSuperClassName fails under certain circumstances
* https://github.com/datanucleus/datanucleus-jdo-query/issues/6[datanucleus-jdo-query-6] - "static" fields shouldn't be added to Q classes
* https://github.com/datanucleus/datanucleus-jpa-query/issues/3[datanucleus-jpa-query-3] - public final static fields leak into the meta-model


- - -

== DataNucleus AccessPlatform 5.1.4

__Nov 24th 2017__ : _Version 5.1.4_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-rdbms/issues/235[datanucleus-rdbms-235] - MySQL identifiers : support for hyphen ('-')
* https://github.com/datanucleus/datanucleus-rdbms/issues/236[datanucleus-rdbms-236] - Support turning off primary-key constraint generation for join table (with JPA)


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/268[datanucleus-core-268] - Internal definition of persistence.xsd had incorrect "version" for JPA 2.1 and JPA 2.2.
* https://github.com/datanucleus/datanucleus-api-jpa/issues/99[datanucleus-api-jpa-99] - Internal definition of orm.xsd had incorrect "version" for JPA 2.2.
* https://github.com/datanucleus/datanucleus-rdbms/issues/237[datanucleus-rdbms-237] - Schema identifier naming ignores N-1 uni "table" specification in <field>, so defines its own join table name

- - -

== DataNucleus AccessPlatform 5.1.3

__Oct 23rd 2017__ : _Version 5.1.3_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/265[datanucleus-core-265] - Incorporate ASM v6.0 for when we want to support Java 9
* https://github.com/datanucleus/datanucleus-core/issues/267[datanucleus-core-267] - Add ability to register some annotations as allowing duplicates
* https://github.com/datanucleus/datanucleus-api-jdo/issues/65[datanucleus-api-jdo-65] - patch for JDO-764 (support duplicated @PersistenceCapable)


=== Bugs


- - -

== DataNucleus AccessPlatform 5.1.2

__Sep 13th 2017__ : _Version 5.1.2_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/254[datanucleus-core-254] - Move "query_method_evaluators" plugin entries to be "built-in"
* https://github.com/datanucleus/datanucleus-core/issues/255[datanucleus-core-255] - Rework MetaDataParser to simplify the structure and cache more
* https://github.com/datanucleus/datanucleus-core/issues/256[datanucleus-core-256] - Persistent properties : add check whether the property methods are of the correct signature
* https://github.com/datanucleus/datanucleus-core/issues/258[datanucleus-core-258] - JPQL functions "key" and "value" should be case insensitive, but currently only allows UPPER CASE
* https://github.com/datanucleus/datanucleus-core/issues/262[datanucleus-core-262] - EnhancementHelper stores a lot of unused info, and has many unused methods. Clean it up
* https://github.com/datanucleus/datanucleus-core/issues/263[datanucleus-core-263] - Move EnhancementHelper string constructor handling to ObjectId
* https://github.com/datanucleus/datanucleus-api-jdo/issues/63[datanucleus-api-jdo-63] - Support for core-255
* https://github.com/datanucleus/datanucleus-api-jpa/issues/98[datanucleus-api-jpa-98] - Support for core-255
* https://github.com/datanucleus/datanucleus-rdbms/issues/223[datanucleus-rdbms-223] - If a type has an "autoApply" TypeConverter then fall back to that when trying to find its mapping
* https://github.com/datanucleus/datanucleus-rdbms/issues/224[datanucleus-rdbms-224] - Null precedence handling broken for MySQL
* https://github.com/datanucleus/datanucleus-rdbms/issues/225[datanucleus-rdbms-225] - Extend #83 and abstract whether to use default value into superclass method
* https://github.com/datanucleus/datanucleus-rdbms/issues/232[datanucleus-rdbms-232] - Cater for user incorrect specification of Collection with embedded elements


=== Bugs

* https://github.com/datanucleus/datanucleus-api-jdo/issues/62[datanucleus-api-jdo-62] - AttributeConverter objects registered with PMF are not CDI injected
* https://github.com/datanucleus/datanucleus-api-jpa/issues/97[datanucleus-api-jpa-97] - When registered converters, make sure we register "autoApply" when already registered
* https://github.com/datanucleus/datanucleus-rdbms/issues/222[datanucleus-rdbms-222] - IntegerRDBMSMapping.setObject for String is incorrect, only uses first character!
* https://github.com/datanucleus/datanucleus-rdbms/issues/230[datanucleus-rdbms-230] - Support selecting map value


- - -

== DataNucleus AccessPlatform 5.1.1

__Aug 10th 2017__ : _Version 5.1.1_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/245[datanucleus-core-245] - Allow optimised backing store handling of sort
* https://github.com/datanucleus/datanucleus-core/issues/246[datanucleus-core-246] - Move newSCOInstance from SCOUtils to TypeManager
* https://github.com/datanucleus/datanucleus-core/issues/248[datanucleus-core-248] - Wrapper type for a field uses instantiated type to choose the wrapper if possible; make it configurable
* https://github.com/datanucleus/datanucleus-core/issues/250[datanucleus-core-250] - Add logged warning when user uses a meta-annotation and DUPLICATES an annotation
* https://github.com/datanucleus/datanucleus-core/issues/252[datanucleus-core-252] - No need to load up TypeConverter(s) when enhancing
* https://github.com/datanucleus/datanucleus-api-jdo/issues/60[datanucleus-api-jdo-60] - Processing of annotations can load annotations for class multiple times
* https://github.com/datanucleus/datanucleus-api-jdo/issues/61[datanucleus-api-jdo-61] - Assume ExpressionImpl.eq(null) meant to be using a null literal
* https://github.com/datanucleus/datanucleus-api-jpa/issues/94[datanucleus-api-jpa-94] - Processing of annotations can load annotations for class multiple times
* https://github.com/datanucleus/datanucleus-api-jpa/issues/95[datanucleus-api-jpa-95] - Allow specification of sqlType (as well as jdbcType)
* https://github.com/datanucleus/datanucleus-rdbms/issues/212[datanucleus-rdbms-212] - Update List backing stores in set() method to check if loaded into wrapper, and use that
* https://github.com/datanucleus/datanucleus-rdbms/issues/213[datanucleus-rdbms-213] - Support use of TypeConverter that convert to byte[]
* https://github.com/datanucleus/datanucleus-rdbms/issues/214[datanucleus-rdbms-214] - Move built-in SQLExpression/Literal extensions to code rather than plugin mechanism
* https://github.com/datanucleus/datanucleus-rdbms/issues/215[datanucleus-rdbms-215] - Move entries for "datastore_mapping" plugin point into DatastoreAdaptor as "built-in"
* https://github.com/datanucleus/datanucleus-rdbms/issues/217[datanucleus-rdbms-217] - Enable internal support for BINARY
* https://github.com/datanucleus/datanucleus-rdbms/issues/218[datanucleus-rdbms-218] - PostgreSQL JDBC supports SQLXML, so support its use
* https://github.com/datanucleus/datanucleus-rdbms/issues/219[datanucleus-rdbms-219] - Derby JDBC supports SQLXML, so support its use
* https://github.com/datanucleus/datanucleus-rdbms/issues/220[datanucleus-rdbms-220] - Support H2 "UUID" column type
* https://github.com/datanucleus/datanucleus-rdbms/issues/221[datanucleus-rdbms-221] - Support HSQLDB "UUID" column type (from v2.4)
* https://github.com/datanucleus/datanucleus-geospatial/issues/4[datanucleus-geospatial-4] - Mirror rdbms-215 and move plugin.xml entries for datastore_mapping to DatastoreAdapter
* https://github.com/datanucleus/datanucleus-geospatial/issues/6[datanucleus-geospatial-6] - Mirror rdbms-211 and move plugin.xml entries for sql_method to DatastoreAdapter


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/247[datanucleus-core-247] - Don't attempt to enhance meta-annotation classes
* https://github.com/datanucleus/datanucleus-api-jpa/issues/92[datanucleus-api-jpa-92] - Entity returned from native query with result class not contained in entity manager
* https://github.com/datanucleus/datanucleus-rdbms/issues/216[datanucleus-rdbms-216] - Period.getDays() is mapped to incorrect SQLMethod class


- - -

== DataNucleus AccessPlatform 5.1.0.RELEASE

__Jul 15th 2017__ : _Version 5.1 RELEASE_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/234[datanucleus-core-234] - Migrate QueryCompilationCache to org.datanucleus.store.query.cache
* https://github.com/datanucleus/datanucleus-core/issues/235[datanucleus-core-235] - Change query caching so that you cannot turn OFF the cache itself (only the caching of a particular query)
* https://github.com/datanucleus/datanucleus-core/issues/236[datanucleus-core-236] - Move query_method_prefix extension to QueryManager
* https://github.com/datanucleus/datanucleus-core/issues/237[datanucleus-core-237] - Drop management_server extension since adding no value
* https://github.com/datanucleus/datanucleus-core/issues/238[datanucleus-core-238] - Move query instantiation to StoreManager to avoid plugin mechanism lookups
* https://github.com/datanucleus/datanucleus-core/issues/239[datanucleus-core-239] - ValueGeneration process needs revision, better caching in ValueGenerationManager
* https://github.com/datanucleus/datanucleus-core/issues/240[datanucleus-core-240] - Rework ValueGenerator interface to construct based on whether "unique" or not
* https://github.com/datanucleus/datanucleus-core/issues/241[datanucleus-core-241] - Add persistence.xml v2.2 XSD
* https://github.com/datanucleus/datanucleus-core/issues/242[datanucleus-core-242] - Add support for persisting java.time.Period as 3 columns (years, months, days)
* https://github.com/datanucleus/datanucleus-core/issues/243[datanucleus-core-243] - datanucleus.valuegeneration.transactionAttribute value of "UsePM" should be removed; deprecated long ago
* https://github.com/datanucleus/datanucleus-core/issues/244[datanucleus-core-244] - IdentityStrategy should really be called ValueGenerationStrategy
* https://github.com/datanucleus/datanucleus-api-jdo/issues/59[datanucleus-api-jdo-59] - Enable support for stateful AttributeConverter with injected dependencies
* https://github.com/datanucleus/datanucleus-api-jpa/issues/88[datanucleus-api-jpa-88] - Support hint of "datanucleus.query.ignoreCache" to ignore the cache(s) on query retrieval
* https://github.com/datanucleus/datanucleus-api-jpa/issues/89[datanucleus-api-jpa-89] - Enable support for stateful AttributeConverter with injected dependencies
* https://github.com/datanucleus/datanucleus-api-jpa/issues/90[datanucleus-api-jpa-90] - Enable support for stateful Event Listener with injected dependencies
* https://github.com/datanucleus/datanucleus-api-jpa/issues/91[datanucleus-api-jpa-91] - Add orm.xml v2.2 XSD
* https://github.com/datanucleus/datanucleus-rdbms/issues/205[datanucleus-rdbms-205] - AbstractClassTable generates ValueGenerator but that should be moved to ValueGeneratorManager
* https://github.com/datanucleus/datanucleus-rdbms/issues/206[datanucleus-rdbms-206] - Move built-in connection pool plugins to code rather than plugin mechanism
* https://github.com/datanucleus/datanucleus-rdbms/issues/207[datanucleus-rdbms-207] - Drop DBCP built-in connection pool
* https://github.com/datanucleus/datanucleus-rdbms/issues/208[datanucleus-rdbms-208] - Move built-in JavaTypeMapping plugins to code rather than plugin mechanism
* https://github.com/datanucleus/datanucleus-rdbms/issues/209[datanucleus-rdbms-209] - SQLMethod implementations should pass SQLStatement into the getExpression() method
* https://github.com/datanucleus/datanucleus-rdbms/issues/210[datanucleus-rdbms-210] - SQLOperation implementations should pass just use the first arg to the getExpression() method for SQLExpressionFactory
* https://github.com/datanucleus/datanucleus-rdbms/issues/211[datanucleus-rdbms-211] - SQLMethod information should be embodied in DatastoreAdapter, and treated as "built-in" rather than in plugin mechanism



=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/221[datanucleus-core-221] - Collections.sort() on persistent List not saved to database with Java 8


- - -


== DataNucleus AccessPlatform 5.1.0.M4

__Jul 4th 2017__ : _Version 5.1 Milestone 4_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/227[datanucleus-core-227] - Add FlushMode to ExecutionContext so we can clean up some of the flushing options
* https://github.com/datanucleus/datanucleus-core/issues/228[datanucleus-core-228] - Rename property "datanucleus.datastoreTransactionFlushLimit" to "datanucleus.flush.auto.objectLimit"
* https://github.com/datanucleus/datanucleus-core/issues/229[datanucleus-core-229] - Drop SoftValueMap and use ConcurrentReferenceHashMap instead
* https://github.com/datanucleus/datanucleus-core/issues/230[datanucleus-core-230] - Support @CreateUser, @UpdateUser specifying the current user
* https://github.com/datanucleus/datanucleus-core/issues/231[datanucleus-core-231] - Rename property "datanucleus.cache.level2.timeout" to "datanucleus.cache.level2.expiryMillis"
* https://github.com/datanucleus/datanucleus-core/issues/232[datanucleus-core-232] - Many SCO wrappers have synchronised methods but the class they wrap don't; remove the synchronized keyword
* https://github.com/datanucleus/datanucleus-core/issues/233[datanucleus-core-233] - ConnectionManager should manage all connection activity, but currently some is in StoreManager etc
* https://github.com/datanucleus/datanucleus-api-jdo/issues/56[datanucleus-api-jdo-56] - Change "supportedAnnotations" to be org.datanucleus.api.jdo.annotations
* https://github.com/datanucleus/datanucleus-api-jdo/issues/57[datanucleus-api-jdo-57] - Add annotations @CreateUser, @UpdateUser
* https://github.com/datanucleus/datanucleus-api-jpa/issues/86[datanucleus-api-jpa-86] - Change "supportedAnnotations" to be org.datanucleus.api.jpa.annotations
* https://github.com/datanucleus/datanucleus-api-jpa/issues/87[datanucleus-api-jpa-87] - Add annotations @CreateUser, @UpdateUser
* https://github.com/datanucleus/datanucleus-cache/issues/2[datanucleus-cache-2] - Memcached plugins have some synchronised when not necessary
* https://github.com/datanucleus/datanucleus-cache/issues/3[datanucleus-cache-3] - Drop Swarmcache
* https://github.com/datanucleus/datanucleus-cache/issues/4[datanucleus-cache-4] - Add simple Redis L2 cache support
* https://github.com/datanucleus/datanucleus-cassandra/issues/30[datanucleus-cassandra-30] - Check for schema existence of a class is unoptimised and should check for StoreData
* https://github.com/datanucleus/datanucleus-cassandra/issues/31[datanucleus-cassandra-31] - Support core-233
* https://github.com/datanucleus/datanucleus-excel/issues/19[datanucleus-excel-19] - Check for schema existence of a class is unoptimised and should check for StoreData
* https://github.com/datanucleus/datanucleus-excel/issues/20[datanucleus-excel-20] - Support core-233
* https://github.com/datanucleus/datanucleus-hbase/issues/34[datanucleus-hbase-34] - Check for schema existence of a class is unoptimised and should check for StoreData
* https://github.com/datanucleus/datanucleus-hbase/issues/35[datanucleus-hbase-35] - Support core-233
* https://github.com/datanucleus/datanucleus-json/issues/14[datanucleus-json-14] - Support core-233
* https://github.com/datanucleus/datanucleus-ldap/issues/14[datanucleus-ldap-14] - Support core-233
* https://github.com/datanucleus/datanucleus-mongodb/issues/38[datanucleus-mongodb-38] - Detect attempt to add index on "_id" field
* https://github.com/datanucleus/datanucleus-mongodb/issues/40[datanucleus-mongodb-40] - Check for schema existence of a class is unoptimised and should check for StoreData
* https://github.com/datanucleus/datanucleus-mongodb/issues/41[datanucleus-mongodb-41] - Support core-233
* https://github.com/datanucleus/datanucleus-neo4j/issues/31[datanucleus-neo4j-31] - Support core-233
* https://github.com/datanucleus/datanucleus-odf/issues/16[datanucleus-odf-16] - Check for schema existence of a class is unoptimised and should check for StoreData
* https://github.com/datanucleus/datanucleus-odf/issues/17[datanucleus-odf-17] - Support core-233
* https://github.com/datanucleus/datanucleus-rdbms/issues/202[datanucleus-rdbms-202] - Add support for @CreateUser, @UpdateUser
* https://github.com/datanucleus/datanucleus-rdbms/issues/203[datanucleus-rdbms-203] - Processing of query results creates new ResultSetGetter for each row, but could use single per query?
* https://github.com/datanucleus/datanucleus-rdbms/issues/204[datanucleus-rdbms-204] - Support core-233
* https://github.com/datanucleus/datanucleus-xml/issues/6[datanucleus-xml-6] - Support core-233


=== Bugs

* https://github.com/datanucleus/datanucleus-rdbms/issues/200[datanucleus-rdbms-200] - Types not converted in TypeConverterLiteral, causing delegate literal to fail to construct.


- - -

== DataNucleus AccessPlatform 5.1.0.M3

__Jun 1st 2017__ : _Version 5.1 Milestone 3_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/210[datanucleus-core-210] - Provide hook for accessing CDI when in an environment that provides it
* https://github.com/datanucleus/datanucleus-core/issues/211[datanucleus-core-211] - When using JDOQL, if result class specified but no result then result defaults to candidate
* https://github.com/datanucleus/datanucleus-core/issues/214[datanucleus-core-214] - Support in-memory evaluation of Date.getDayOfWeek
* https://github.com/datanucleus/datanucleus-core/issues/215[datanucleus-core-215] - Support use of "datanucleus.generateSchema.create.order" and "datanucleus.generateSchema.drop.order"
* https://github.com/datanucleus/datanucleus-core/issues/216[datanucleus-core-216] - Support a mechanism for forcing version update of an object
* https://github.com/datanucleus/datanucleus-core/issues/217[datanucleus-core-217] - Add field number to SurrogateColumnType so that we can use when passing in field numbers
* https://github.com/datanucleus/datanucleus-core/issues/220[datanucleus-core-220] - Provide ExecutionContext.detachObjects so we can potentially do bulk detach
* https://github.com/datanucleus/datanucleus-core/issues/222[datanucleus-core-222] - Add support for meta annotations, so that users can define their own composite annotations
* https://github.com/datanucleus/datanucleus-core/issues/223[datanucleus-core-223] - JPA 1-1-UNI via join table maps to N-1-UNI but tries to create unique constraint
* https://github.com/datanucleus/datanucleus-core/issues/224[datanucleus-core-224] - Move lockMode into LockManager from ObjectProvider
* https://github.com/datanucleus/datanucleus-api-jdo/issues/51[datanucleus-api-jdo-51] - Allow DN JDO extension annotations to be used as part of meta-annotations
* https://github.com/datanucleus/datanucleus-api-jpa/issues/49[datanucleus-api-jpa-49] - Support OPTIMISTIC_FORCE_INCREMENT and PESSIMISTIC_FORCE_INCREMENT
* https://github.com/datanucleus/datanucleus-api-jpa/issues/84[datanucleus-api-jpa-84] - Allow DN JPA extension annotations to be used as part of meta-annotations
* https://github.com/datanucleus/datanucleus-rdbms/issues/188[datanucleus-rdbms-188] - Support Date.getDayOfWeek / DAY_OF_WEEK(date)
* https://github.com/datanucleus/datanucleus-rdbms/issues/189[datanucleus-rdbms-189] - Handling of MaxFetchDepth in navigation requests
* https://github.com/datanucleus/datanucleus-rdbms/issues/192[datanucleus-rdbms-192] - Allow classes to map onto VIEWs when using an identity
* https://github.com/datanucleus/datanucleus-rdbms/issues/194[datanucleus-rdbms-194] - Make use of SurrogateColumnType.getFieldNumber() instead of RDBMS-specific variant 
* https://github.com/datanucleus/datanucleus-rdbms/issues/198[datanucleus-rdbms-198] - JDOQL : when checking the validity of a result class, don't perform checks when the user specifies the default Object[]


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/218[datanucleus-core-218] - Default table name for JPA should be the entity name, not the class name
* https://github.com/datanucleus/datanucleus-api-jdo/issues/49[datanucleus-api-jdo-49] - Query.executeUnique should call setUnique but doesn't!
* https://github.com/datanucleus/datanucleus-api-jdo/issues/52[datanucleus-api-jdo-52] - JDOQL: default query result does not work with executeResultList
* https://github.com/datanucleus/datanucleus-rdbms/issues/195[datanucleus-rdbms-195] - Default table name for JPA should be the entity name, not the class name
* https://github.com/datanucleus/datanucleus-rdbms/issues/197[datanucleus-rdbms-197] - Naming of join table column for N-1 uni, ignores JPA convention


- - -

== DataNucleus AccessPlatform 5.1.0.M2

__Apr 27th 2017__ : _Version 5.1 Milestone 2_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/156[datanucleus-core-156] - Support user-provided identity class with className field defining the class of the object
* https://github.com/datanucleus/datanucleus-core/issues/157[datanucleus-core-157] - ExecutionContextImpl.findObject should have an option of finding an object by particular member(s) that are unique keys
* https://github.com/datanucleus/datanucleus-core/issues/199[datanucleus-core-199] - Create new object with app id can result in create "id" multiple times
* https://github.com/datanucleus/datanucleus-core/issues/200[datanucleus-core-200] - Code for creation of new application identity "id" object is in 3 places; use IdentityManager.getApplicationId() only
* https://github.com/datanucleus/datanucleus-core/issues/201[datanucleus-core-201] - Query.addSubquery should only allow a single variable name to be defined for the subquery
* https://github.com/datanucleus/datanucleus-core/issues/203[datanucleus-core-203] - WeakValueMap is no longer used; remove it
* https://github.com/datanucleus/datanucleus-core/issues/204[datanucleus-core-204] - StateManager : object is put in L1 cache too many times
* https://github.com/datanucleus/datanucleus-core/issues/205[datanucleus-core-205] - Extend L1 and L2 cache to allow caching by a unique key
* https://github.com/datanucleus/datanucleus-core/issues/206[datanucleus-core-206] - JPQL : Support compilation of NodeType of TYPE when used in result
* https://github.com/datanucleus/datanucleus-core/issues/207[datanucleus-core-207] - Define SOFTDELETE column name for CompleteClassTable factories
* https://github.com/datanucleus/datanucleus-core/issues/208[datanucleus-core-208] - Refactor ObjectProvider/StateManager interfaces to simplify the structure
* https://github.com/datanucleus/datanucleus-api-jdo/issues/47[datanucleus-api-jdo-47] - Support core-156
* https://github.com/datanucleus/datanucleus-api-jdo/issues/48[datanucleus-api-jdo-48] - Add @ComparatorClass annotation for specifying the comparator of a collection field
* https://github.com/datanucleus/datanucleus-api-jpa/issues/80[datanucleus-api-jpa-80] - Support override properties for elements of persistence.xml
* https://github.com/datanucleus/datanucleus-api-jpa/issues/82[datanucleus-api-jpa-82] - Add @ComparatorClass annotation for specifying the comparator of a collection field
* https://github.com/datanucleus/datanucleus-rdbms/issues/184[datanucleus-rdbms-184] - JPQL join to new root doesn't cater for UNIONed query statement
* https://github.com/datanucleus/datanucleus-rdbms/issues/186[datanucleus-rdbms-186] - Support core-156
* https://github.com/datanucleus/datanucleus-rdbms/issues/187[datanucleus-rdbms-187] - Support compilation of JPQL TYPE expression in the result clause when the primary uses discriminator
* https://github.com/datanucleus/datanucleus-cassandra/issues/29[datanucleus-cassandra-29] - Need to assign type to SOFTDELETE column
* https://github.com/datanucleus/datanucleus-xml/issues/5[datanucleus-xml-5] - Support core-156


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/197[datanucleus-core-197] - Generic compilation of query result "alias" is prone to problems
* https://github.com/datanucleus/datanucleus-api-jpa/issues/78[datanucleus-api-jpa-78] - CriteriaUpdate doesnt register symbol for any ParameterExpression in the update clause
* https://github.com/datanucleus/datanucleus-cassandra/issues/28[datanucleus-cassandra-28] - Load of query doesnt ensure that all SCOs are wrapped
* https://github.com/datanucleus/datanucleus-mongodb/issues/37[datanucleus-mongodb-37] - Load of query doesnt ensure that all SCOs are wrapped
* https://github.com/datanucleus/datanucleus-neo4j/issues/25[datanucleus-neo4j-25] - LazyLoadQueryResult Exception if result is empty when calling size()/isEmpty()
* https://github.com/datanucleus/datanucleus-neo4j/issues/28[datanucleus-neo4j-28] - Load of query doesnt ensure that all SCOs are wrapped
* https://github.com/datanucleus/datanucleus-hbase/issues/33[datanucleus-hbase-33] - Load of query doesnt ensure that all SCOs are wrapped
* https://github.com/datanucleus/datanucleus-odf/issues/15[datanucleus-odf-15] - Load of query doesnt ensure that all SCOs are wrapped


- - -

== DataNucleus AccessPlatform 5.1.0.M1

__Mar 17th 2017__ : _Version 5.1 Milestone 1_ includes the following changes

=== Enhancements

* https://github.com/datanucleus/datanucleus-core/issues/142[datanucleus-core-142] - Enhancement : add dnGetStateManager() method
* https://github.com/datanucleus/datanucleus-core/issues/159[datanucleus-core-159] - Add enum for SurrogateColumnType and change org.datanucleus.store.schema.table to use it rather than multiple getters
* https://github.com/datanucleus/datanucleus-core/issues/153[datanucleus-core-153] - Merge VersionHelper into ExecutionContext and allow configuration over version initial value
* https://github.com/datanucleus/datanucleus-core/issues/178[datanucleus-core-178] - Support specification of initial version number when using VersionStrategy.VERSION_NUMBER
* https://github.com/datanucleus/datanucleus-core/issues/179[datanucleus-core-179] - VersionStrategy.NONE should imply don't increment any value
* https://github.com/datanucleus/datanucleus-core/issues/181[datanucleus-core-181] - Add property so that people can contribute new mechanisms for storing "identity" in non-RDBMS datastores
* https://github.com/datanucleus/datanucleus-core/issues/183[datanucleus-core-183] - Set default for "datanucleus.jtaLocator" to be "autodetect" to match what it does
* https://github.com/datanucleus/datanucleus-core/issues/184[datanucleus-core-184] - Revise naming schema for all persistence properties related to transactions
* https://github.com/datanucleus/datanucleus-core/issues/188[datanucleus-core-188] - Add schema/catalog to SequenceMetaData
* https://github.com/datanucleus/datanucleus-core/issues/190[datanucleus-core-190] - Remove "datanucleus.storeManagerType" since we can determine it from the URL or connection type
* https://github.com/datanucleus/datanucleus-core/issues/192[datanucleus-core-192] - Drop extension point "org.datanucleus.store_objectvaluegenerator" since never used and better routes available
* https://github.com/datanucleus/datanucleus-core/issues/182[datanucleus-core-182] - Support join on map KEY
* https://github.com/datanucleus/datanucleus-core/issues/180[datanucleus-core-180] - Add support for soft-delete of persistable objects
* https://github.com/datanucleus/datanucleus-api-jdo/issues/44[datanucleus-api-jdo-44] - Support core-142
* https://github.com/datanucleus/datanucleus-api-jdo/issues/45[datanucleus-api-jdo-45] - Add support for soft-delete, see core-180
* https://github.com/datanucleus/datanucleus-api-jdo/issues/46[datanucleus-api-jdo-46] - Use of persistence.xml with non-jta-data-source but no jta-data-source should use it as primary
* https://github.com/datanucleus/datanucleus-api-jpa/issues/59[datanucleus-api-jpa-59] - Support core-142
* https://github.com/datanucleus/datanucleus-api-jpa/issues/60[datanucleus-api-jpa-60] - Add support for soft-delete, see core-180
* https://github.com/datanucleus/datanucleus-api-jpa/issues/61[datanucleus-api-jpa-61] - When in container mode, check on (JTA) transaction being active should include an attempt to join
* https://github.com/datanucleus/datanucleus-api-jpa/issues/70[datanucleus-api-jpa-70] - Support JPA MapKeyClass
* https://github.com/datanucleus/datanucleus-api-jpa/issues/72[datanucleus-api-jpa-72] - Support SequenceGenerator / <sequence-generator> "schema" / "catalog"
* https://github.com/datanucleus/datanucleus-api-jpa/issues/75[datanucleus-api-jpa-75] - Support @MapKeyJoinColumn
* https://github.com/datanucleus/datanucleus-rdbms/issues/21[datanucleus-rdbms-21] - Support SoftDelete of objects
* https://github.com/datanucleus/datanucleus-rdbms/issues/163[datanucleus-rdbms-163] - Support core-159
* https://github.com/datanucleus/datanucleus-rdbms/issues/164[datanucleus-rdbms-164] - Update org.datanucleus.store.rdbms.table.Table to use "surrogate" method for mappings
* https://github.com/datanucleus/datanucleus-rdbms/issues/167[datanucleus-rdbms-167] - Support core-153
* https://github.com/datanucleus/datanucleus-rdbms/issues/168[datanucleus-rdbms-168] - Consider removing failover plugin point 
* https://github.com/datanucleus/datanucleus-rdbms/issues/169[datanucleus-rdbms-169] - Support SequenceMetaData "schema"/"catalog" when generating sequence
* https://github.com/datanucleus/datanucleus-rdbms/issues/172[datanucleus-rdbms-172] - Remove reference to "table-sequence" value generator, since this is "increment"
* https://github.com/datanucleus/datanucleus-rdbms/issues/173[datanucleus-rdbms-173] - Support JPQL join on KEY(...) where the "..." is the value
* https://github.com/datanucleus/datanucleus-cassandra/issues/25[datanucleus-cassandra-25] - Support core-159
* https://github.com/datanucleus/datanucleus-cassandra/issues/26[datanucleus-cassandra-26] - Support core-153
* https://github.com/datanucleus/datanucleus-cassandra/issues/27[datanucleus-cassandra-27] - Support SoftDelete of objects
* https://github.com/datanucleus/datanucleus-mongodb/issues/31[datanucleus-mongodb-31] - Support core-159
* https://github.com/datanucleus/datanucleus-mongodb/issues/32[datanucleus-mongodb-32] - Support core-153
* https://github.com/datanucleus/datanucleus-mongodb/issues/33[datanucleus-mongodb-33] - Support SoftDelete of objects
* https://github.com/datanucleus/datanucleus-neo4j/issues/22[datanucleus-neo4j-22] - Support core-159
* https://github.com/datanucleus/datanucleus-neo4j/issues/23[datanucleus-neo4j-23] - Support core-153
* https://github.com/datanucleus/datanucleus-neo4j/issues/24[datanucleus-neo4j-24] - Support SoftDelete of objects
* https://github.com/datanucleus/datanucleus-hbase/issues/28[datanucleus-hbase-28] - Support core-159
* https://github.com/datanucleus/datanucleus-hbase/issues/29[datanucleus-hbase-29] - Support core-153
* https://github.com/datanucleus/datanucleus-hbase/issues/30[datanucleus-hbase-30] - Make use of core-181 property to support "HBase Legacy" storage of identity in relations
* https://github.com/datanucleus/datanucleus-hbase/issues/31[datanucleus-hbase-31] - Support SoftDelete of objects
* https://github.com/datanucleus/datanucleus-excel/issues/17[datanucleus-excel-17] - Support core-159
* https://github.com/datanucleus/datanucleus-excel/issues/18[datanucleus-excel-18] - Support core-153
* https://github.com/datanucleus/datanucleus-odf/issues/13[datanucleus-odf-13] - Support core-159
* https://github.com/datanucleus/datanucleus-odf/issues/14[datanucleus-odf-14] - Support core-153
* https://github.com/datanucleus/datanucleus-json/issues/11[datanucleus-json-11] - Support core-159
* https://github.com/datanucleus/datanucleus-json/issues/12[datanucleus-json-12] - Support core-153


=== Bugs

* https://github.com/datanucleus/datanucleus-core/issues/177[datanucleus-core-177] - TRIM handling for JPQL doesn't cater for multiple component identifiers
* https://github.com/datanucleus/datanucleus-core/issues/193[datanucleus-core-193] - If we have an unknown type that extends an existing type, don't fallback if it needs a wrapper
* https://github.com/datanucleus/datanucleus-api-jpa/issues/65[datanucleus-api-jpa-65] - Application-managed EMF should map jta-data-source and non-jta-data-source on to internal persistence property names
* https://github.com/datanucleus/datanucleus-api-jpa/issues/67[datanucleus-api-jpa-67] - EMF.createEntityManager passing in props is trying to create new NucleusContext but shouldn't
* https://github.com/datanucleus/datanucleus-api-jpa/issues/68[datanucleus-api-jpa-68] - PersistenceUnitUtil.isLoaded(Object,String) attempts to resolve if loaded by wrong method
* https://github.com/datanucleus/datanucleus-api-jpa/issues/74[datanucleus-api-jpa-74] - EMF debug code needs null check
* https://github.com/datanucleus/datanucleus-rdbms/issues/165[datanucleus-rdbms-165] - Fix for #137 is flawed and should check for null element metadata
* https://github.com/datanucleus/datanucleus-rdbms/issues/175[datanucleus-rdbms-175] - Collection/Map join table column default names can be incorrect for JPA
* https://github.com/datanucleus/datanucleus-rdbms/issues/176[datanucleus-rdbms-176] - Collection/Map join table default name can be incorrect for JPA
* https://github.com/datanucleus/datanucleus-rdbms/issues/178[datanucleus-rdbms-178] - JDOQL will cache datastore compilation regardless of cache setting!
* https://github.com/datanucleus/datanucleus-mongodb/issues/35[datanucleus-mongodb-35] - Fix handling of mongodb integer-based props



